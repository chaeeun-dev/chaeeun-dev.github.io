---
title: "[Network] 2장 요약"
excerpt: "물리 계층과 데이터 링크 계층"

categories:
  - Network
tags:
  - [Network]

permalink: /theory/ch2/

toc: true
toc_sticky: true

date: 2025-07-07
last_modified_at: 2025-07-07
---

## 2-1. 이더넷

- 이더넷(Ethernet)
    - 다양한 통신 매체의 규격, 송수신되는 프레임의 형태, 프레임을 주고받는 방법 등이 정의된 네트워크 기술
        - 예. 케이블 등의 통신 매체를 통해 정보를 송수신하는 방법
    - 물리 계층, 데이터 링크 계층에 이더넷 기술이 사용된다.
    - 현대 LAN, 특히 유선 LAN에 가장 대중적으로 사용되는 기술

---

### 이더넷 표준

- 현재 이더넷은 IEEE 802.3으로 국제적으로 표준화가 이루어졌다. 
- IEEE 802.3는 이더넷 관련 다양한 표준들의 모음
- 다양한 네트워크 장비(허브, 스위치, NIC, 케이블 등)는 이더넷 표준을 준수한다.
- 이더넷 표준에 따라 지원되는 네트워크 장비, 통신 매체의 종류와 전송 속도 등이 달라질 수 있다.

---

### 통신 매체 표기 형태

- 통신 매체의 속도와 특성을 파악하기 쉽게 표현한다.
- `전송 속도BASE-추가 특성`
    - 전송 속도: 숫자만 표현되어 있으면 Mbps, G가 붙으면 Gbps 속도 지원
    - BASE: 대부분의 이더넷 통신 매체는 BASE를 사용한다.
    - 추가 특성: 전송 가능 최대 거리, 물리 계층 인코딩 방식, 레인수 등 명시. 가장 중요한 특성은 **통신 매체의 종류**

---

### 통신 매체의 종류

- C: 동축 케이블
- T: 트위스티드 페어 케이블
- S: 단파장 광섬유 케이블
- L: 장파장 광섬유 케이블

&nbsp;

- 예시
    - 10BASE-T 케이블: 10Mbps 속도를 지원하는 트위스티드 페어 케이블
    - 1000BASE-SX 케이블: 1000Mbps 속도를 지원하는 단파장 광섬유 케이블

---

### 이더넷 프레임

- 이더넷 프레임(Ethernet frame)
    - 이더넷 네트워크에서 주고받는 프레임
    - 송신할 때 캡슐화, 수신할 때 역캡슐화 과정을 거친다.
    - 이더넷 프레임 구성 요소
        - 헤더 - 프리앰블, 수신지 MAC 주소, 타입/길이
        - 페이로드 - 데이터
        - 트레일러 - FCS

![이더넷 프레임](/assets/images/post_img/network/EthernetFrame.jpg)


&nbsp;

- 프리앰블(preamble)
    - 이더넷 프레임의 시작을 알리는 8바이트 크기의 정보
    - 수신자는 프리앰블을 통해 이더넷 프레임이 오고 있음을 알아차린다.
    - 송수신지 간의 동기화를 위해 사용되는 정보
- MAC 주소
    - 네트워크 인터페이스마다 부여되는 6바이트 길이의 주소로, LAN 내의 수신자와 송신지를 특정할 수 있다.
    - 일반적으로 고유하고, 일반적으로 변경되지 않는 주소
    - 보통 NIC(Network Interface Controller)가 네트워크 인터페이스 역할을 담당한다.
    - NIC가 여러 개라면 MAC 주소도 여러 개일 수 있다.
- 타입/길이
    - 필드에 명시된 크기가 1500 이하일 때 →  길이(프레임의 크기)를 나타낸다.
    - 1536 이상일 때 → 타입을 나타낸다.
    - 타입
        - 이더넷 프레임이 어떤 정보를 캡슐화했는지 나타내는 정보
        - 대표적으로 상위 계층에서 사용된 프로토콜의 이름이 명시된다. 
- 데이터
    - 상위 계층에서 전달받거나 상위 계층으로 전달해야 할 내용으로 PDU(데이터 + 헤더)가 포함된다.
    - 최대 크기 1500바이트
    - 반드시 일정 크기(46바이트 이상)여야 한다. 그 이하라면 패딩(padding)으로 채워진다.
- FCS(Frame Check Sequence)
    - 수신한 이더넷 프레임에 오류가 있는지 확인하기 위한 필드
    - 데이터 링크 계층에서의 오류 검출이 여기서 이루어진다.
    - 순환 중복 검사(CRC - Cyclic Redundancy Check)라는 오류 검출용 값이 들어간다.
    - 수신지와 송신지에서 각각 CRC 값을 계산하고 FCS 필드에 명시하는데, 필드의 값이 일치하지 않으면 프레임 오류로 해당 프레임을 폐기한다. 

---

### 토큰링

- 토큰링(Token Ring)
    - 이더넷 외에 다른 LAN 기술로, 호스트들을 링(고리) 형태로 연결한다.
    - 호스트끼리 돌아가며 토큰을 주고 받는데, 다른 호스트에게 메시지를 전송하려면 반드시 토큰을 가지고 있어야 한다. 

---

## 2-2. NIC와 케이블

물리 계층과 데이터 링크 계층에서의 통신 매체와 관련 장비인 NIC와 여러 케이블에 대해 알아본다.

---

### NIC 

- NIC(Network Interface Controller)
    - 호스트와 통신 매체를 연결하고, MAC 주소가 부여되는 네트워크 장비
    - 생김새
        - USB 연결하는 NIC, 마더보드에 내장된 NIC 등 
    - 역할
        - 통신 매체에 흐르는 신호를 호스트가 이해하는 프레임으로 변환
        - 호스트가 이해하는 프레임을 통신매체에 흐르는 신호로 변환
        - 네트워크와의 연결점을 담당한다 → **네트워크 인터페이스** 역할
        - MAC 주소를 통해 관련 없거나 FCS 필드로 검출한 오류 프레임을 폐기
    - 유의할 점
        - NIC마다 지원되는 속도가 다르다(네트워크 속도에 영향 끼침).

---

### 트위스티드 페어 케이블

- 트위스티드 페어 케이블(twisted pair cable)
    - 구리 선으로 전기 신호를 주고받는 통신 매체
    - 생김새
        - 케이블 본체
            - 구리선 두 가닥씩 꼬아짐
            - 전기 신호를 왜곡시킬 수 있는 간섭인 노이즈에 민감하다. 
            - 차폐: 구리 선 주변을 감싸 노이즈를 감소시킨다.
        - 커넥터
            - 주로 활용하는 커넥터: RJ-45
    - 실드에 따른 분류
        - STP(Shielded Twisted Pair): 브레이드 실드(그물 모양)로 구리선을 감싸 노이즈 감소
        - FTP(Foil Twisted Pair): 포일 실드로 노이즈 감소
        - UTP(Unshielded Twisted Pair): 아무것도 감싸지 않은 케이블
        - `XX/YTP`: 외부 감싸는 실드/구리선 쌍을 감싸는 실드 케이블
    - 카테고리에 따른 분류
        - 카테고리: 성능 등급을 구분한다.
        - 카테고리가 높을수록 지원 대역폭이 높아진다. → 송수신 가능한 데이터 양이 많고 전송 속도가 빠르다.    
    
---

### 광섬유 케이블

- 광섬유 케이블(fiber optic cable)
    - 빛(광신호)을 이용해 정보를 주고받는 케이블
    - 빛을 이용해 전송하기 때문에 속도가 빠르고 먼 거리까지 전송 가능, 노이즈로부터 간섭 받는 영향이 적다.
    - 대륙 간 네트워크 연결에 사용된다. 
    - 생김새
        - 본체
            - 중심에 **코어(core)** - 빛이 흐르는 부분
            - 코어를 둘러싸는 **클래딩(cladding)** - 빛을 가두는 역할
        - 커넥터
            - LC, SC, FC, ST 커넥터
    - 코어의 지름에 따른 분류
        - 싱글 모드 광섬유 케이블
            - 코어 지름: 8~10 마이크로 미터
            - 모드가 하나: 지름이 작아 빛의 이동 경로가 하나
            - 장점 - 신호 손실이 적어 장거리 전송(수십 km)에 적합하다.
            - 단점 - 멀티 모드에 비해 일반적으로 비용이 높다.
            - 장파장 신호 사용
        - 멀티 모드 광섬유 케이블
            - 코어 지름: 50~62.5 마이크로 미터
            - 모드가 여러 개: 빛이 여러 경로로 이동할 수 있다.
            - 단점: 신호 손실이 클 수 있어 장거리 전송에 부적합(수백 m ~ 수 km) → 근거리 연결
            - 단파장 신호 사용 

---

## 2-3. 허브

### 주소 개념이 없는 물리 계층

- 물리 계층은 주소 개념이 없다.
    - 송수신되는 정보에 대한 어떠한 조작이나 판단을 하지 않는다.
- 데이터 링크 계층부터 주소 개념이 존재(MAC 주소)

---

### 허브

- 허브(hub) - 물리 계층
    - 여러 대의 호스트를 연결하는 장치
    - 생김새
        - 포트(port): 커넥터를 연결할 수 있는 연결 지점으로, 호스트와 연결된 통신 매체를 연결할 수 있다.
    - 허브의 특징
        - 전달 받은 신호를 다른 모든 포트로 그대로 다시 내보낸다.
            - 물리 계층에는 주소 개념이 없기 때문에 내보내기만 한다.
        - 반이중 모드로 통신한다.
            - 반이중 모드(half duplex): 송수신을 번갈아 가면서 하는 통신 방식으로, 무전기와 비슷
            - 전이중 모드(full dyplex): 송수신을 동시에 양방향으로 할 수 있는 통신 방식

&nbsp;

- 리피터(repeater) - 물리 계층
    - 전기 신호 감소/왜곡을 방지하기 위해 전기 신호를 증폭시켜주는 장비
    - 허브에 포함되는 경우가 많다.

&nbsp;

- 콜리전(collision)
    - 허브는 반이중 통신이라 한 호스트가 허브에 송신하면 다른 호스트는 기다려야 한다.
    - 동시에 허브에 신호를 송신하면 충돌이 발생한다.
- 콜리전 도메인(collision domain)
    - 충돌이 발생할 수 있는 영역으로, 허브에 연결된 모든 호스트는 이에 속한다.
    - 범위가 클수록 충돌 발생 가능성이 높다.

---

### CSMA/CD

- CSMA/CD
    - 반이중 이더넷 네트워크에서 충돌을 방지하기 위한 대표적인 프로토콜
    - CS(Carrier Sense) - 캐리어 감지
        - 현재 통신 매체의 사용 가능 여부를 검사한다.
    - MA(Multiple Access) - 다중 접근
        - 다른 호스트가 전송 중이지 않을 때 메시지를 전송한다.
    - CD(Collision Detection) - 충돌 검출
        - 충돌이 발생하면 임의의 시간만큼 대기한 후 다시 전송한다.

---

## 2-4. 스위치

### 스위치

- 스위치(switch)
    - 데이터 링크 계층의 네트워크 장비로, L2 스위치라고도 부른다.
    - 허브와 달리 MAC 주소를 학습 → 특정 주소의 호스트에게 프레임 전달 가능
    - 전이중 모드 통신 지원 → CSMA/CD 프로토콜 필요 없다.


&nbsp;

- 스위치의 특징
    - MAC 주소 학습(MAC address learning)
        - 특정 포트와 해당 포트에 연결된 호스트의 MAC 주소와의 관계를 기억한다.
        - 원하는 호스트에게만 프레임을 전달할 수 있다.
        - MAC 주소 테이블(MAC address table)에 포트와 연결된 호스트의 MAC 주소 간의 연관 관계를 메모리에 기록한다.

---

### MAC 주소 학습

- 스위치의 기능
    1. 플러딩(flooding)
        - 허브처럼 송신지 포트를 제외한 모든 포트로 프레임 전송
        - 관련 없는 호스트는 프레임 폐기, 관련 호스트는 응답 프레임을 전송하여 MAC 주소 기록
    2. 필터링(filtering)
        - 전달받은 프레임을 어디로 보내고 어디로 보내지 않을지 결정
    3. 포워딩(forwarding)
        - 프레임이 전송될 포트에 실제로 프레임을 내보낸다.
    4. 에이징(aging)
        - MAC 주소 테이블에 등록된 포트서 일정 시간 동안 프레임을 전송받지 못하면 해당 항목은 삭제된다.

---

### VLAN

- VLAN(Virtual LAN)
    - 한 대의 스위치로 가상의 LAN을 만드는 방법
    - VLAN을 구성하면 한 대의 스위치로 여러 개의 스위치가 있는 것 거럼 LAN을 구획할 수 있다.
    - 예시. 같은 스위치로 `VLAN1: A, B, C, D`, `VLAN2: E, F, G, H, I` 구획
        - VLAN1과 VLAN2에 속한 호스트는 다른 LAN에 있는 것처럼 인식한다.
        - 브로드캐스트 도메인이 달라진다.

&nbsp;

- VLAN 구성 방법
    1. 포트 기반 LAN(port based VLAN)
        - 스위치의 포트가 VLAN을 결정하는 방식
        - 사전에 특정 포트에 VLAN을 할당, 포트에 호스트 연결하여 VLAN에 포함시킨다.
        - VLAN 트렁킹(VLAN Trunking)
            - 두 대 이상의 VLAN 스위치를 효율적으로 연결하여 확장하는 방법
            - 스위치 간의 통신을 위한 트렁크 포트(trunk port)에 스위치를 서로 연결한다.
            - 낭비되는 포트 최소화 + 다른 스위치에서도 같은 LAN에 속하게 구성 가능
    2. MAC 기반 VLAN(MAC based VLAN)
        - 송수신하는 프레임속 MAC 주소가 호스트가 속할 VLAN을 결정하는 방식

--- 

*출처*
*[강민철님 혼자 공부하는 네트워크](https://www.inflearn.com/course/%EA%B0%9C%EB%B0%9C%EC%9E%90-%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B3%B5%ED%95%99-%ED%98%BC%EC%9E%90%EA%B3%B5%EB%B6%80%ED%95%98%EB%8A%94-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/dashboard)*